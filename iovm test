
9B 00 04 00 01 10 05 10 00 36 00 FF 34 43 31 00 35 06 00 39 9C 00 2C 6C EA FF 3A 08  81 03

82 0 0 82 4 f0 81 3 81 1

----

// setup channel 0 for WRAM read of 240 bytes:
Instruction(OPCODE_SETTDU, CHANNEL_0),
TARGET_WRAM,
Instruction(OPCODE_SETA8, CHANNEL_0),
0x10,
Instruction(OPCODE_SETLEN, CHANNEL_0),
0xF0, // transfer length of 240 bytes
0x00,

// setup channel 3 for NMI EXE $2C00 write in reverse direction so $2C00 byte is written last:
Instruction(OPCODE_SETCMPMSK, CHANNEL_3),
0x00, // comparison_value
0xFF, // comparison_mask
Instruction(OPCODE_SETTDU, CHANNEL_3),
TARGET_2C00 | TARGETFLAG_REVERSE,
Instruction(OPCODE_SETA8, CHANNEL_3),
0x00, // set lower 8 bytes of address for the $2C00 memory target
Instruction(OPCODE_SETLEN, CHANNEL_3),
0x06, // transfer length of 6 bytes
0x00,
Instruction(OPCODE_WRITE, CHANNEL_3),
0x9C, // 2C00: STZ $2C00
0x00,
0x2C,
0x6C, // 2C03: JMP ($FFEA)
0xEA,
0xFF,
// wait while (read_byte($2C00) & comparison_mask) != comparison_value
Instruction(OPCODE_WAIT_WHILE_NEQ, CHANNEL_3),

// now issue WRAM read on channel 0 that was set up earlier:
Instruction(OPCODE_READ, CHANNEL_0),

----

82 00 00
4B 03 12 00 00 00 43 00 00 00 06 00
C0
CA 04 19 00 00 00 43 00 00 00 00
4B 02 1A 00 00 00 00 10 00 00 F0 00
7F 00 05 01 0F 00 00 00 00 00 00 39 00 10 05 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
7F 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
7F 00 00 00 00 00 00 09 00 00 00 00 02 31 00 20 40 80 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 BE E8 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
F3 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 90
C1 00

----

timed out:
82 00 00 4B 03 12 00 00 00 43 00 00 00 06 00 C0

82 00 00
4B 03 12 00 00 00 43 00 00 00 06 00
C0
